# Name       zhihu
# Author     @blackmatrix7, @RuCu6
# UpdateTime 2023-04-22 00:22
# âš ï¸å±è”½è¿‡å¤šå…³é”®è¯ä¼šå¯¼è‡´é¦–é¡µæ— å†…å®¹æ˜¾ç¤ºï¼

########## ======== â­ï¸â­ï¸ ======== ##########
# @blackmatrix7 @https://github.com/blackmatrix7/ios_rule_script/blob/master/script/zheye/zheye.snippet
# BoxJSçŸ¥ä¹è®¢é˜… @https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/script/boxjs.json

^https?:\/\/(118\.89\.204\.198|103\.41\.167\.237) url reject-dict
^https?:\/\/2402:4e00:1200:ed00:0:9089:6dac:96b6 url reject-200

# å½“å‰é˜…è¯»ï¼Ÿfeed\/render\/revisit\/current_reading
# æ¨èé¡µå·¦ä¸Šè§’å›¾æ ‡ feed\/render\/revisit\/tag_config
# å…³æ³¨é¡µæœ€å¸¸è®¿é—® moments\/recent
//^https?:\/\/api\.zhihu\.com\/(feed\/render\/revisit\/(current_reading|tag_config)|moments\/recent) url reject-dict

# ä¸‹å‘çš„é…ç½®,å¦‚çš®è‚¤ç­‰ platforms\/ios\/config
# æˆ‘çš„é¡µé¢å¼€é€šä¼šå‘˜çš„å¡ç‰‡ unlimited\/go\/my_card
# æœç´¢æ¡†å·¦ä¾§æ´»åŠ¨ root\/window$ @RuCu6
# æš‚ä¸æ¸…æ¥šä½œç”¨ ad-style-service\/request
^https?:\/\/api\.zhihu\.com\/(ab\/api\/v\d\/products\/zhihu\/platforms\/ios\/config|unlimited\/go\/my_card|root\/window$|ad-style-service\/request) url reject

# å¼€å±å¹¿å‘Š commercial_api\/(launch|real_time_launch)_v\d
# å“ç‰Œæé—®å¹¿å‘Š brand\/question\/\d+/card\?
^https?:\/\/api\.zhihu\.com\/(commercial_api\/(launch|real_time_launch)_v\d|brand\/question\/\d+/card\?) url reject-dict

# å›ç­”ä¸‹çš„å¡ç‰‡å¹¿å‘Š v\d+\/brand\/question/\d+/card|v\d\/answers\/\d+\/recommendations
# å›ç­”,æ–‡ç«  ä¸‹çš„ç›¸å…³æœç´¢ v\d\/search/related_queries\/(answer|article)
^https?:\/\/www\.zhihu\.com\/api\/(v\d+\/brand\/question/\d+/card|v\d\/answers\/\d+\/recommendations|v\d+\/search/related_queries\/(answer|article)) url reject-dict

# åº•éƒ¨æ ‡ç­¾é¡µå…³æ³¨äººè§’æ ‡ moments\/tab_v\d
# æ¶ˆæ¯é€šçŸ¥è§’æ ‡ notifications\/v\d\/count
# æ‹¦æˆªåº”ç”¨å†…å¼¹çª— me\/guides
^https?:\/\/api\.zhihu\.com\/(moments\/tab_v\d|notifications\/v\d\/count|me\/guides) url reject-dict

# æ¨èé¡µé¡¶éƒ¨å¹¿å‘Š api\/v\d\/ecom_data\/config
# é¡¶éƒ¨æ¨ªå¹… commercial_api\/banners_v\d\/app_topstory_banner
# åº•æ åŠ å·çš„å¹¿å‘Š content-distribution-core\/bubble\/common\/settings
^https?:\/\/api\.zhihu\.com\/(api\/v\d\/ecom_data\/config|commercial_api\/banners_v\d\/app_topstory_banner|content-distribution-core\/bubble\/common\/settings) url reject-dict

# å›ç­”é¡µ_å†…å®¹ä¼˜åŒ–,ä»˜è´¹,è¥é”€,æ¨å¹¿å†…å®¹æ–‡é¦–æé†’
^https?:\/\/www\.zhihu\.com\/appview\/v\d\/answer\/.*(entry=(?!(preload-topstory|preload-search|preload-subscription)))? url script-response-body https://raw.githubusercontent.com/ZY714IU/ZY/main/QuantumultX/Scripts/zhihu_b.js

# æ–‡ç« é¡µ_å»åº•éƒ¨å¹¿å‘Š
^https?:\/\/www\.zhihu\.com\/api\/v\d\/articles\/\d+\/recommendation\? url script-response-body https://raw.githubusercontent.com/ZY714IU/ZY/main/QuantumultX/Scripts/zhihu_b.js

# æ¶ˆæ¯é¡µ_æŠ˜å å®˜æ–¹æ¶ˆæ¯,å±è”½è¥é”€æ¶ˆæ¯
^https?:\/\/api\.zhihu\.com\/notifications\/v3\/(message|timeline\/entry\/system_message) url script-response-body https://raw.githubusercontent.com/ZY714IU/ZY/main/QuantumultX/Scripts/zhihu_b.js

# çƒ­æ¦œé¡µ_å»å¹¿å‘Š topstory\/hot-lists?(\?|\/)
# æœç´¢é¡µ_å»é¢„ç½®å¹¿å‘Š search\/preset_words\?
^https?:\/\/api\.zhihu\.com\/(topstory\/hot-lists?(\?|\/)|search\/preset_words\?) url script-response-body https://raw.githubusercontent.com/ZY714IU/ZY/main/QuantumultX/Scripts/zhihu_b.js

# è·å–ç”¨æˆ·ä¿¡æ¯_éš”ç¦»ç”¨æˆ·æ•°æ®,å¼€å¯æœ¬åœ°ä¼šå‘˜ç­‰ people\/
# ç”¨æˆ·ä¿¡æ¯_ä¿®æ”¹ç”¨æˆ·ç›å€¼ user-credit\/basis
^https?:\/\/api\.zhihu\.com\/(people\/|user-credit\/basis) url script-response-body https://raw.githubusercontent.com/ZY714IU/ZY/main/QuantumultX/Scripts/zhihu_b.js

# è§£é”æœ¬åœ°å…³é”®è¯å±è”½åŠŸèƒ½,éœ€è¦å¼€å¯æœ¬åœ°VIP
^https?:\/\/api\.zhihu\.com\/feed-root\/block url script-analyze-echo-response https://raw.githubusercontent.com/ZY714IU/ZY/main/QuantumultX/Scripts/zhihu_b.js

# ä¼˜åŒ–è½¯ä»¶é…ç½®_ä¼˜åŒ–ä¸‹å‘çš„é…ç½®æ–‡ä»¶æ¥å®ç°æŸäº›æ•ˆæœ
^https?:\/\/m-cloud\.zhihu\.com\/api\/cloud\/config\/all\? url script-response-body https://raw.githubusercontent.com/ZY714IU/ZY/main/QuantumultX/Scripts/zhihu_b.js
^https?:\/\/appcloud2\.zhihu\.com\/v\d+\/config url script-analyze-echo-response https://raw.githubusercontent.com/ZY714IU/ZY/main/QuantumultX/Scripts/zhihu_b.js

# å…³æ³¨é¡µ_å†…å®¹ä¼˜åŒ–åŠå±è”½è½¬å‘é»‘åå•ç”¨æˆ·æƒ³æ³•
^https?:\/\/api\.zhihu\.com\/moments_v\d\? url script-response-body https://raw.githubusercontent.com/ZY714IU/ZY/main/QuantumultX/Scripts/zhihu_b.js

# æ¨èé¡µ_ç§»é™¤é»‘åå•ç”¨æˆ·å‘å¸ƒçš„æ–‡ç« ,å»å¹¿å‘Š,åŠè‡ªå®šä¹‰ä¸€äº›å±è”½é¡¹ç›® topstory\/recommend
# é»‘åå•é¡µ_åŒæ­¥é»‘åå•æ•°æ® settings\/blocked_users
# å›ç­”é¡µ_å±è”½ä¸‹ç¿»å‡ºç°çš„é»‘åå•ç”¨æˆ·çš„å›ç­” next\?
^https:\/\/api\.zhihu\.com\/(topstory\/recommend|settings\/blocked_users|next\?) url script-response-body https://raw.githubusercontent.com/ZY714IU/ZY/main/QuantumultX/Scripts/zhihu_b.js

# é—®é¢˜å›ç­”åˆ—è¡¨_ç§»é™¤é»‘åå•ç”¨æˆ·å›ç­”,å»å¹¿å‘Š (v\d\/)?questions\/\d+
# å›ç­”ä¿¡æ¯æµ_ç§»é™¤é»‘åå•ç”¨æˆ·å›ç­”,å»å¹¿å‘Š next-data
^https?:\/\/api\.zhihu\.com\/((v\d\/)?questions\/\d+|next-data) url script-response-body https://raw.githubusercontent.com/ZY714IU/ZY/main/QuantumultX/Scripts/zhihu_b.js

# è¯„è®ºé¡µåŠå­é¡µé¢_å»é™¤é»‘åå•ç”¨æˆ·å‘è¡¨çš„è¯„è®º
^https?:\/\/api\.zhihu\.com\/(comment_v\d\/)?(answers|comments?|articles|pins)\/\d+\/(root_|child_)?comments? url script-response-body https://raw.githubusercontent.com/ZY714IU/ZY/main/QuantumultX/Scripts/zhihu_b.js

# å›ç­”é¡µåº•éƒ¨è¯„è®ºæ‘˜è¦_ç§»é™¤é»‘åå•ç”¨æˆ·å‘è¡¨çš„è¯„è®º
^https?:\/\/www\.zhihu\.com\/api\/v\d\/comment_v5\/answers\/\d+\/abstract_comment\? url script-response-body https://raw.githubusercontent.com/ZY714IU/ZY/main/QuantumultX/Scripts/zhihu_b.js

########## ======== â­ï¸â­ï¸ ======== ##########
# @ğŸ˜¢
# æˆ‘çš„é¡µé¢_åº•ä¸‹å¡ç‰‡ api\/v\d\/profile\/cards
# æˆ‘çš„é¡µé¢_åˆ›ä½œé‡Œé¢å„ç§å¡ç‰‡ api\/v\d\/creators|sku
# ä¼šå‘˜é¡µ_ä¼šå‘˜è´­åº•ä¸‹å•†å“ topseller\/shop\/tab
# è®¾ç½®é€šçŸ¥? settings\/new\/notification
# æ´»åŠ¨ä¿¡æ¯æ¨é€? message-push\/event
# æ´»åŠ¨æ¨èçª—? event-center\/recommend\/window
^https?:\/\/(www|api)\.zhihu\.com\/(api\/v\d\/profile\/cards|api\/v\d\/creators|sku|topseller\/shop\/tab|settings\/new\/notification|market\/popovers|message-push\/event|event-center\/recommend\/window) url reject-dict

########## ======== â­ï¸â­ï¸ ======== ##########
# @RuCu6 @https://github.com/RuCu6/QuanX/blob/main/Rewrites/Cube/zhihu.snippet

# çŸ¥ä¹_ç½‘é¡µç‰ˆå»å¹¿å‘Š
^https:\/\/api\.zhihu\.com\/distribute\/rhea\/qa_ad_card\/h5\/recommendation url reject-dict
^https:\/\/www\.zhihu\.com\/api\/v\d/(questions|anwsers)\/\d+/related-readings url reject
^https:\/\/www\.zhihu\.com\/(api\/v\d\/hot_recommendation|commercial_api\/banners_v\d\/mobile_banner|api\/v\d\/search\/top_search\/tabs\/hot\/items|api/v\d\/growth\/mobile_top_banner) url reject
^https:\/\/zhuanlan\.zhihu\.com\/api\/articles\/\d+\/recommendation url reject

hostname = 118.89.204.198, 103.41.167.237, 103.41.167.236, 103.41.167.234, 103.41.167.235, 103.41.167.226, 2402:4e00:1200:ed00:0:9089:6dac:96b6, zhuanlan.zhihu.com, appcloud2.zhihu.com, m-cloud.zhihu.com, api.zhihu.com, www.zhihu.com
